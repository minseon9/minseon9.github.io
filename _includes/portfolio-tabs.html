<div class="portfolio">
  <h1 class="portfolio__title">Portfolio</h1>
  
  <!-- Tabs -->
  <div class="portfolio__tabs">
    <button class="portfolio__tab active" onclick="showPortfolioTab('feedback')">WORKING STYLE & FEEDBACK</button>
    <button class="portfolio__tab" onclick="showPortfolioTab('technical')">TECHNICAL CHALLENGES & LEARNINGS</button>
  </div>
  
  {% include portfolio-feedback.html %}
  
  <!-- TECHNICAL CHALLENGES & LEARNINGS Tab -->
  <div id="portfolio-technical" class="portfolio__tab-content portfolio__tab-content--wide" style="display:none;">
    <div class="portfolio">
      {% include portfolio-technical.html %}
    </div>
  </div>
</div>

<script>
function showPortfolioTab(tab) {
  document.getElementById('portfolio-feedback').style.display = (tab === 'feedback') ? 'block' : 'none';
  document.getElementById('portfolio-technical').style.display = (tab === 'technical') ? 'block' : 'none';
  
  var tabs = document.querySelectorAll('.portfolio__tab');
  tabs[0].classList.toggle('active', tab === 'feedback');
  tabs[1].classList.toggle('active', tab === 'technical');
}

// 공통 갤러리 초기화 함수
function initPortfolioGallery(selector, options) {
  if (typeof jQuery !== 'undefined' && jQuery.fn.magnificPopup) {
    jQuery(selector).magnificPopup({
      delegate: 'a.image-popup',
      type: 'image',
      gallery: {
        enabled: true,
        navigateByImgClick: true,
        preload: [0, 1]
      },
      image: {
        tError: '<a href="%url%">Image #%curr%</a> could not be loaded.'
      },
      removalDelay: 500,
      mainClass: 'mfp-zoom-in',
      closeOnContentClick: true,
      midClick: true,
      ...options
    });
  }
}

// Initialize Magnific Popup for galleries
document.addEventListener('DOMContentLoaded', function() {
  initPortfolioGallery('.portfolio__feedback-gallery--positive');
  initPortfolioGallery('.portfolio__feedback-gallery--constructive');
});
</script>
